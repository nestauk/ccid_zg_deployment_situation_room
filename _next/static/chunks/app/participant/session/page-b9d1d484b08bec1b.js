(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4032],{83686:function(e,t,n){Promise.resolve().then(n.bind(n,94817))},94817:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var i=n(57437),s=n(53622),o=n(63858),a=n(94547),l=n(78364),r=n(81764),c=n(96608),d=n(4766),u=n(93191),x=n(37570),h=n(83593),p=n(70018),f=n(43670),j=n(2215),b=n(17882),g=n(16003),v=n(33351),C=n(43061),y=n(2265),E=n(96537),Z=n(40395);function w(){let[e,t]=(0,y.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(E.Z,{variant:"outlined",color:"buttonStandard",onClick:()=>t(!0),sx:{py:1},children:"LEAVE CALL"}),(0,i.jsx)(Z.Z,{open:e,setOpen:t,onSelect:e=>{"leave"===e&&window.location.reload()},prompt:"Are you sure you want to leave the call?",options:[{key:"return",text:"RETURN TO THE CALL",filled:!0},{key:"leave",text:"LEAVE THE CALL",filled:!1}]})]})}function m(){let{session:e}=(0,y.useContext)(x.H),{slideData:t}=(0,y.useContext)(d.X),n=(0,y.useContext)(u.N),s=(0,y.useContext)(g.ui),[o,l]=(0,y.useState)(!1),[r,c]=(0,y.useState)({activity:t.activity,enableExpandButton:!0,onResize:()=>{E()},presentation:n.presentation,availableSpace:void 0});(0,y.useEffect)(()=>{l(e.remoteConfiguration===a.VS.RemoteWithVideoCall)},[e]),(0,y.useEffect)(()=>{c({...r,activity:t.activity,enableExpandButton:!0,onResize:()=>{E()},presentation:n.presentation})},[t.activity]);let E=()=>{h.Z.emit({type:h.M.Request_SlideRefresh})},[Z,m]=(0,C.xE)();return(0,y.useEffect)(()=>{m&&m.width&&m.height&&(c({...r,availableSpace:{w:m.width,h:m.height}}),console.debug("available space: ".concat(m.width," x ").concat(m.height)))},[m]),(0,i.jsxs)(i.Fragment,{children:[o&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(v.Z,{sx:{width:"100%",height:"100%",position:"absolute",left:0,top:0,right:0,bottom:0,display:"flex",flexDirection:"column",p:1,gap:1},children:[(0,i.jsx)(v.Z,{ref:Z,sx:{display:"block",flexGrow:1,m:0,p:0}}),(0,i.jsxs)(v.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"end",gap:2,px:1},children:[(0,i.jsx)(b.Z,{orientation:"row"}),(0,i.jsx)(v.Z,{sx:{alignSelf:"center"},children:(0,i.jsx)(w,{})})]})]}),(0,i.jsx)(v.Z,{sx:{position:"absolute",left:0,top:0,right:0,display:"block",p:1},children:(0,i.jsx)(f.Z,{initialCallPreferences:s.call,sx:{width:"100%",height:"100%"},children:(0,i.jsx)(j.ZP,{role:a._b.Client,children:(0,i.jsx)(p.ZP,{activity:r.activity,enableExpandButton:r.enableExpandButton,onResize:r.onResize,presentation:r.presentation,availableSpace:r.availableSpace})})})})]}),!o&&(0,i.jsx)(v.Z,{sx:{width:"100%",height:"100%",p:1,position:"relative"},children:n.presentation})]})}function S(e){return(0,i.jsx)(i.Fragment,{children:o.UA?(0,i.jsx)(c.Z,{}):(0,i.jsxs)(r.Z,{sid:e.sid,joinCode:e.joinCode,refresh:e.refresh,role:a._b.Client,children:[(0,i.jsx)(l.Z,{}),(0,i.jsx)(m,{})]})})}var k=n(16463);function R(){let e=(0,k.useSearchParams)(),t=e.get("sid"),n=e.get("code"),o="true"===e.get("refresh");return null===t||null===n?(0,i.jsx)("p",{children:"Missing session id or join code"}):(0,i.jsx)(s.Z,{searchParams:e,children:(0,i.jsx)(S,{sid:t,joinCode:n,refresh:o})})}}},function(e){e.O(0,[2908,6444,6221,1866,3732,7761,4403,7357,8965,4807,6990,6077,984,9194,3447,1957,4914,18,2971,7023,1744],function(){return e(e.s=83686)}),_N_E=e.O()}]);
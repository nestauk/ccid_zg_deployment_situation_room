(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4032],{83686:function(e,t,n){Promise.resolve().then(n.bind(n,94817))},94817:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var i=n(57437),s=n(53622),o=n(94547),l=n(78364),r=n(27030),a=n(11144),c=n(4766),d=n(93191),u=n(83593),x=n(24423),h=n(43670),p=n(2215),f=n(17882),j=n(69740),b=n(33351),g=n(43061),v=n(2265),C=n(96537),y=n(40395);function E(){let[e,t]=(0,v.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(C.Z,{variant:"outlined",color:"buttonStandard",onClick:()=>t(!0),sx:{py:1},children:"LEAVE CALL"}),(0,i.jsx)(y.Z,{open:e,setOpen:t,onSelect:e=>{"leave"===e&&window.location.reload()},prompt:"Are you sure you want to leave the call?",options:[{key:"return",text:"RETURN TO THE CALL",filled:!0},{key:"leave",text:"LEAVE THE CALL",filled:!1}]})]})}function Z(){let{session:e}=(0,v.useContext)(a.z),{slideData:t}=(0,v.useContext)(c.X),n=(0,v.useContext)(d.N),s=(0,v.useContext)(j.ui),[l,r]=(0,v.useState)(!1),[C,y]=(0,v.useState)({activity:t.activity,enableExpandButton:!0,onResize:()=>{Z()},presentation:n.presentation,availableSpace:void 0});(0,v.useEffect)(()=>{r(e.remoteConfiguration===o.VS.RemoteWithVideoCall)},[e]),(0,v.useEffect)(()=>{y({...C,activity:t.activity,enableExpandButton:!0,onResize:()=>{Z()},presentation:n.presentation})},[t.activity]);let Z=()=>{u.Z.emit({type:u.M.Request_SlideRefresh})},[m,w]=(0,g.xE)();return(0,v.useEffect)(()=>{w&&w.width&&w.height&&y({...C,availableSpace:{w:w.width,h:w.height}})},[w]),(0,i.jsxs)(i.Fragment,{children:[l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(b.Z,{sx:{width:"100%",height:"100%",position:"absolute",left:0,top:0,right:0,bottom:0,display:"flex",flexDirection:"column",p:1,gap:1},children:[(0,i.jsx)(b.Z,{ref:m,sx:{display:"block",flexGrow:1,m:0,p:0}}),(0,i.jsxs)(b.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"end",gap:2,px:1},children:[(0,i.jsx)(f.Z,{orientation:"row"}),(0,i.jsx)(b.Z,{sx:{alignSelf:"center"},children:(0,i.jsx)(E,{})})]})]}),(0,i.jsx)(b.Z,{sx:{position:"absolute",left:0,top:0,right:0,display:"block",p:1},children:(0,i.jsx)(h.Z,{initialCallPreferences:s.call,sx:{width:"100%",height:"100%"},children:(0,i.jsx)(p.ZP,{role:o._b.Client,children:(0,i.jsx)(x.ZP,{activity:C.activity,enableExpandButton:C.enableExpandButton,onResize:C.onResize,presentation:C.presentation,availableSpace:C.availableSpace})})})})]}),!l&&(0,i.jsx)(b.Z,{sx:{width:"100%",height:"100%",p:1},children:n.presentation})]})}function m(e){return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(r.Z,{sid:e.sid,joinCode:e.joinCode,refresh:e.refresh,role:o._b.Client,children:[(0,i.jsx)(l.Z,{}),(0,i.jsx)(Z,{})]})})}var w=n(16463);function S(){let e=(0,w.useSearchParams)(),t=e.get("sid"),n=e.get("code"),o="true"===e.get("refresh");return null===t||null===n?(0,i.jsx)("p",{children:"Missing session id or join code"}):(0,i.jsx)(s.Z,{searchParams:e,children:(0,i.jsx)(m,{sid:t,joinCode:n,refresh:o})})}}},function(e){e.O(0,[2908,6444,6221,1866,3732,7761,4403,7357,7483,6592,8950,7532,9194,3447,7610,4811,4423,2971,7023,1744],function(){return e(e.s=83686)}),_N_E=e.O()}]);
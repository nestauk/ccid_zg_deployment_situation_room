"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4423],{24423:function(o,l,s){s.d(l,{ZP:function(){return x}});var r=s(57437),e=s(15785),a=s(40772),t=s(59676),i=s(81386),c=s(22960),n=s(31193),d=s(60335),w=s(29921),p=s(2265),u=s(63858),S=s(95958);let b="".concat(960," / ").concat(700),v=[{col:3,row:1,span:{cols:1,rows:1}},{col:3,row:2,span:{cols:1,rows:1}},{col:3,row:3,span:{cols:1,rows:1}},{col:2,row:3,span:{cols:1,rows:1}},{col:1,row:3,span:{cols:1,rows:1}},{col:4,row:1,span:{cols:1,rows:1}},{col:4,row:2,span:{cols:1,rows:1}},{col:4,row:3,span:{cols:1,rows:1}},{col:4,row:4,span:{cols:1,rows:1}},{col:3,row:4,span:{cols:1,rows:1}},{col:2,row:4,span:{cols:1,rows:1}},{col:1,row:4,span:{cols:1,rows:1}},{col:5,row:1,span:{cols:1,rows:1}},{col:5,row:2,span:{cols:1,rows:1}},{col:5,row:3,span:{cols:1,rows:1}},{col:5,row:4,span:{cols:1,rows:1}}],f={0:{[e.S.default]:{cols:1,rows:1},[e.S.deliberation]:{cols:1,rows:1}},1:{[e.S.default]:{cols:3,rows:2},[e.S.deliberation]:{cols:3,rows:2}},2:{[e.S.default]:{cols:3,rows:2},[e.S.deliberation]:{cols:3,rows:2}},3:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:3,rows:3}},4:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:3,rows:3}},5:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:3,rows:3}},6:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:4,rows:3}},7:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:4,rows:3}},8:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:4,rows:3}},9:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:4,rows:4}},10:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:4,rows:4}},11:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:4,rows:4}},12:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:4,rows:4}},13:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:5,rows:4}},14:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:5,rows:4}},15:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:5,rows:4}},16:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:5,rows:4}}},h={0:{[e.S.default]:{col:1,row:1,span:{cols:1,rows:1}},[e.S.deliberation]:{col:1,row:1,span:{cols:1,rows:1}}},1:{[e.S.default]:{col:1,row:1,span:{cols:2,rows:2}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},2:{[e.S.default]:{col:1,row:1,span:{cols:2,rows:2}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},3:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:3}}},4:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},5:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},6:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},7:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},8:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},9:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},10:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},11:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},12:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},13:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},14:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},15:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},16:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}}};function x(o){var l,s,x,g,m,j,y,E;let{tiles:R}=(0,p.useContext)(S.fp),Z=(0,p.useRef)([]),C=(0,p.useRef)(),k=(0,p.useRef)(),[B,T]=(0,p.useState)(!1),[F,_]=(0,p.useState)(),z=(0,p.useRef)(null),[N,A]=(0,p.useState)([]);(0,w.y)(z,A),o.subscriptionsOverride,(0,p.useEffect)(()=>{if((0,S.Yw)(R,Z.current)&&o.activity===C.current&&o.enableExpandButton===k.current)return;Z.current=R,C.current=o.activity,k.current=o.enableExpandButton;let l=Math.min(R.length,16),s=o.activity,r=f[l][s],a={w:960*r.cols,h:700*r.rows};_({colsTemplate:"repeat(".concat(r.cols,", 1fr)"),rowsTemplate:"repeat(".concat(r.rows,", 1fr)"),cells:r,gridAspect:a,litter:l,activity:s,showExpandButton:o.enableExpandButton&&R.length>0&&o.activity===e.S.deliberation})},[R,o.activity,o.enableExpandButton]),(0,p.useEffect)(()=>{F&&F.activity!==e.S.deliberation&&T(!1)},[F]),(0,p.useEffect)(()=>{o.onResize()},[N,B,o.availableSpace]);let[G]=(0,a.u)({duration:200}),I="0.5rem",M=(0,c.Z)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.Z,{sx:{width:null!==(y=null===(l=o.availableSpace)||void 0===l?void 0:l.w)&&void 0!==y?y:"100%",height:null!==(E=null===(s=o.availableSpace)||void 0===s?void 0:s.h)&&void 0!==E?E:"100%",position:"relative"},children:F&&(0,r.jsx)(n.Z,{sx:{aspectRatio:"".concat(F.gridAspect.w,"/").concat(F.gridAspect.h),objectFit:"contain",height:u.G6?null===(x=o.availableSpace)||void 0===x?void 0:x.h:void 0,width:u.G6?null===(g=o.availableSpace)||void 0===g?void 0:g.w:void 0,maxHeight:null===(m=o.availableSpace)||void 0===m?void 0:m.h,maxWidth:null===(j=o.availableSpace)||void 0===j?void 0:j.w,mx:"auto",my:"auto"},children:(0,r.jsxs)(n.Z,{ref:G,sx:{width:"100%",height:"100%",display:"grid",gap:I,gridTemplateColumns:F.colsTemplate,gridTemplateRows:F.rowsTemplate},children:[(0,r.jsxs)(n.Z,{ref:z,sx:{position:B?"absolute":"relative",gridColumnStart:B?void 0:h[F.litter][F.activity].col,gridColumnEnd:B?void 0:h[F.litter][F.activity].col+h[F.litter][F.activity].span.cols,gridRowStart:B?void 0:h[F.litter][F.activity].row,gridRowEnd:B?void 0:h[F.litter][F.activity].row+h[F.litter][F.activity].span.rows,width:B?void 0:"100%",height:B?void 0:"100%",left:B?"2.5vh":void 0,top:B?"2.5vh":void 0,bottom:B?"2.5vh":void 0,right:B?"2.5vh":void 0,zIndex:B?10:void 0},children:[F.showExpandButton&&(0,r.jsx)(n.Z,{sx:{position:"absolute",top:"1rem",right:"1rem",zIndex:20},children:(0,r.jsx)(d.Z,{"aria-label":"expand presentation button",onClick:()=>T(!B),sx:{border:"2px solid",borderColor:M.palette.promptPanelBackground.main,background:M.palette.slideSectionBackground.main},children:B?(0,r.jsx)(t.Z,{}):(0,r.jsx)(i.Z,{})})}),(0,r.jsx)(n.Z,{sx:{width:"100%",height:"100%",borderRadius:2,border:B?"solid 2px white":void 0},className:"shadow",children:o.presentation})]},"presentation-cell"),o.activity===e.S.deliberation&&(0,r.jsx)(r.Fragment,{children:R.map((o,l)=>{let s=v[l];return void 0!==s?(0,r.jsx)(n.Z,{sx:{gridColumnStart:s.col,gridColumnEnd:s.col+s.span.cols,gridRowStart:s.row,gridRowEnd:s.row+s.span.rows},children:o},"video-cell-at-".concat(l)):(console.warn("Tile with index ".concat(l," not rendered - no position data available")),(0,r.jsx)(r.Fragment,{}))})}),o.activity!=e.S.deliberation&&(0,r.jsxs)(r.Fragment,{children:[R.slice(0,Math.min(2,F.litter)).map((o,l)=>(0,r.jsx)(n.Z,{sx:{gridColumn:f[F.litter][F.activity].cols,gridRow:l+1},children:o},"video-cell-at-".concat(l))),F.litter>2&&(0,r.jsx)(n.Z,{sx:{gridColumn:F.cells.cols,gridRowStart:3,gridRowEnd:F.cells.rows+1,overflowY:"auto"},children:R.slice(2).map((o,l)=>(0,r.jsx)(n.Z,{sx:{width:"100%",aspectRatio:b,mb:I},children:o},"video-cell-at-".concat(l)))})]})]})})})})}}}]);
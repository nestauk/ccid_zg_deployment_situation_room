"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4423],{24423:function(o,s,l){l.d(s,{ZP:function(){return g}});var r=l(57437),e=l(15785),i=l(40772),t=l(59676),a=l(81386),c=l(22960),n=l(31193),d=l(60335),w=l(29921),p=l(2265),u=l(63858),S=l(66097),v=l(2215);let b="".concat(960," / ").concat(700),f=[{col:3,row:1,span:{cols:1,rows:1}},{col:3,row:2,span:{cols:1,rows:1}},{col:3,row:3,span:{cols:1,rows:1}},{col:2,row:3,span:{cols:1,rows:1}},{col:1,row:3,span:{cols:1,rows:1}},{col:4,row:1,span:{cols:1,rows:1}},{col:4,row:2,span:{cols:1,rows:1}},{col:4,row:3,span:{cols:1,rows:1}},{col:4,row:4,span:{cols:1,rows:1}},{col:3,row:4,span:{cols:1,rows:1}},{col:2,row:4,span:{cols:1,rows:1}},{col:1,row:4,span:{cols:1,rows:1}},{col:5,row:1,span:{cols:1,rows:1}},{col:5,row:2,span:{cols:1,rows:1}},{col:5,row:3,span:{cols:1,rows:1}},{col:5,row:4,span:{cols:1,rows:1}}],h={0:{[e.S.default]:{cols:1,rows:1},[e.S.deliberation]:{cols:1,rows:1}},1:{[e.S.default]:{cols:3,rows:2},[e.S.deliberation]:{cols:3,rows:2}},2:{[e.S.default]:{cols:3,rows:2},[e.S.deliberation]:{cols:3,rows:2}},3:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:3,rows:3}},4:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:3,rows:3}},5:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:3,rows:3}},6:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:4,rows:3}},7:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:4,rows:3}},8:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:4,rows:3}},9:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:4,rows:4}},10:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:4,rows:4}},11:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:4,rows:4}},12:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:4,rows:4}},13:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:5,rows:4}},14:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:5,rows:4}},15:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:5,rows:4}},16:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:5,rows:4}}},x={0:{[e.S.default]:{col:1,row:1,span:{cols:1,rows:1}},[e.S.deliberation]:{col:1,row:1,span:{cols:1,rows:1}}},1:{[e.S.default]:{col:1,row:1,span:{cols:2,rows:2}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},2:{[e.S.default]:{col:1,row:1,span:{cols:2,rows:2}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},3:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:3}}},4:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},5:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},6:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},7:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},8:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},9:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},10:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},11:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},12:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},13:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},14:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},15:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},16:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}}};function g(o){var s,l,g,m,j,Z,y,E;let{subscriptions:R}=(0,p.useContext)(v.fp),[C,k]=(0,p.useState)(!1),[T,B]=(0,p.useState)(),F=(0,p.useRef)(null),[I,P]=(0,p.useState)([]);(0,w.y)(F,P);let[_,z]=(0,p.useState)([]),N=void 0!==o.subscriptionsOverride;(0,p.useEffect)(()=>{var s;z(null!==(s=o.subscriptionsOverride)&&void 0!==s?s:R)},[R,o.subscriptionsOverride]),(0,p.useEffect)(()=>{let s=Math.min(_.length,16),l=o.activity,r=h[s][l],i={w:960*r.cols,h:700*r.rows};B({colsTemplate:"repeat(".concat(r.cols,", 1fr)"),rowsTemplate:"repeat(".concat(r.rows,", 1fr)"),cells:r,gridAspect:i,litter:s,activity:l,showExpandButton:o.enableExpandButton&&_.length>0&&o.activity===e.S.deliberation})},[_,o.activity,o.enableExpandButton]),(0,p.useEffect)(()=>{T&&T.activity!==e.S.deliberation&&k(!1)},[T]),(0,p.useEffect)(()=>{o.onResize()},[I,C,o.availableSpace]);let[O]=(0,i.u)({duration:200}),A="0.5rem",G=(0,c.Z)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.Z,{sx:{width:null!==(y=null===(s=o.availableSpace)||void 0===s?void 0:s.w)&&void 0!==y?y:"100%",height:null!==(E=null===(l=o.availableSpace)||void 0===l?void 0:l.h)&&void 0!==E?E:"100%",position:"relative"},children:T&&(0,r.jsx)(n.Z,{sx:{aspectRatio:"".concat(T.gridAspect.w,"/").concat(T.gridAspect.h),objectFit:"contain",height:u.G6?null===(g=o.availableSpace)||void 0===g?void 0:g.h:void 0,width:u.G6?null===(m=o.availableSpace)||void 0===m?void 0:m.w:void 0,maxHeight:null===(j=o.availableSpace)||void 0===j?void 0:j.h,maxWidth:null===(Z=o.availableSpace)||void 0===Z?void 0:Z.w,mx:"auto",my:"auto"},children:(0,r.jsxs)(n.Z,{ref:O,sx:{width:"100%",height:"100%",display:"grid",gap:A,gridTemplateColumns:T.colsTemplate,gridTemplateRows:T.rowsTemplate},children:[(0,r.jsxs)(n.Z,{ref:F,sx:{position:C?"absolute":"relative",gridColumnStart:C?void 0:x[T.litter][T.activity].col,gridColumnEnd:C?void 0:x[T.litter][T.activity].col+x[T.litter][T.activity].span.cols,gridRowStart:C?void 0:x[T.litter][T.activity].row,gridRowEnd:C?void 0:x[T.litter][T.activity].row+x[T.litter][T.activity].span.rows,width:C?void 0:"100%",height:C?void 0:"100%",left:C?"2.5vh":void 0,top:C?"2.5vh":void 0,bottom:C?"2.5vh":void 0,right:C?"2.5vh":void 0,zIndex:C?10:void 0},children:[T.showExpandButton&&(0,r.jsx)(n.Z,{sx:{position:"absolute",top:"1rem",right:"1rem",zIndex:20},children:(0,r.jsx)(d.Z,{"aria-label":"expand presentation button",onClick:()=>k(!C),sx:{border:"2px solid",borderColor:G.palette.promptPanelBackground.main,background:G.palette.slideSectionBackground.main},children:C?(0,r.jsx)(t.Z,{}):(0,r.jsx)(a.Z,{})})}),(0,r.jsx)(n.Z,{sx:{width:"100%",height:"100%",borderRadius:2,border:C?"solid 2px white":void 0},className:"shadow",children:o.presentation})]},"presentation-cell"),o.activity===e.S.deliberation&&(0,r.jsx)(r.Fragment,{children:_.map((o,s)=>{let l=f[s];return void 0!==l?(0,r.jsx)(n.Z,{sx:{gridColumnStart:l.col,gridColumnEnd:l.col+l.span.cols,gridRowStart:l.row,gridRowEnd:l.row+l.span.rows},children:(0,r.jsx)(S.ZP,{subscription:o,test:N})},"video-cell-".concat(o.deviceId)):(console.warn("Tile with index ".concat(s," not rendered - no position data available")),(0,r.jsx)(r.Fragment,{}))})}),o.activity!=e.S.deliberation&&(0,r.jsxs)(r.Fragment,{children:[_.slice(0,Math.min(2,T.litter)).map((o,s)=>(0,r.jsx)(n.Z,{sx:{gridColumn:h[T.litter][T.activity].cols,gridRow:s+1},children:(0,r.jsx)(S.ZP,{subscription:o,test:N})},"video-cell-".concat(o.deviceId))),T.litter>2&&(0,r.jsx)(n.Z,{sx:{gridColumn:T.cells.cols,gridRowStart:3,gridRowEnd:T.cells.rows+1,overflowY:"auto"},children:_.slice(2).map((o,s)=>(0,r.jsx)(n.Z,{sx:{width:"100%",aspectRatio:b,mb:A},children:(0,r.jsx)(S.ZP,{subscription:o,test:N})},"video-cell-".concat(o.deviceId)))})]})]})})})})}}}]);
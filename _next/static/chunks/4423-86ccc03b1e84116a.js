"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4423],{24423:function(o,s,l){l.d(s,{ZP:function(){return x}});var r=l(57437),e=l(15785),t=l(40772),a=l(59676),c=l(81386),i=l(22960),n=l(31193),w=l(60335),d=l(29921),p=l(2265),S=l(66097),u=l(2215);let b="".concat(960," / ").concat(700),f=[{col:3,row:1,span:{cols:1,rows:1}},{col:3,row:2,span:{cols:1,rows:1}},{col:3,row:3,span:{cols:1,rows:1}},{col:2,row:3,span:{cols:1,rows:1}},{col:1,row:3,span:{cols:1,rows:1}},{col:4,row:1,span:{cols:1,rows:1}},{col:4,row:2,span:{cols:1,rows:1}},{col:4,row:3,span:{cols:1,rows:1}},{col:4,row:4,span:{cols:1,rows:1}},{col:3,row:4,span:{cols:1,rows:1}},{col:2,row:4,span:{cols:1,rows:1}},{col:1,row:4,span:{cols:1,rows:1}},{col:5,row:1,span:{cols:1,rows:1}},{col:5,row:2,span:{cols:1,rows:1}},{col:5,row:3,span:{cols:1,rows:1}},{col:5,row:4,span:{cols:1,rows:1}}],h={0:{[e.S.default]:{cols:1,rows:1},[e.S.deliberation]:{cols:1,rows:1}},1:{[e.S.default]:{cols:3,rows:2},[e.S.deliberation]:{cols:3,rows:2}},2:{[e.S.default]:{cols:3,rows:2},[e.S.deliberation]:{cols:3,rows:2}},3:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:3,rows:3}},4:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:3,rows:3}},5:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:3,rows:3}},6:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:4,rows:3}},7:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:4,rows:3}},8:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:4,rows:3}},9:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:4,rows:4}},10:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:4,rows:4}},11:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:4,rows:4}},12:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:4,rows:4}},13:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:5,rows:4}},14:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:5,rows:4}},15:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:5,rows:4}},16:{[e.S.default]:{cols:6,rows:5},[e.S.deliberation]:{cols:5,rows:4}}},v={0:{[e.S.default]:{col:1,row:1,span:{cols:1,rows:1}},[e.S.deliberation]:{col:1,row:1,span:{cols:1,rows:1}}},1:{[e.S.default]:{col:1,row:1,span:{cols:2,rows:2}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},2:{[e.S.default]:{col:1,row:1,span:{cols:2,rows:2}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},3:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:3}}},4:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},5:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},6:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},7:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},8:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},9:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},10:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},11:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},12:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},13:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},14:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},15:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},16:{[e.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[e.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}}};function x(o){var s,l;let{subscriptions:x}=(0,p.useContext)(u.fp),[g,m]=(0,p.useState)(!1),[j,Z]=(0,p.useState)(),y=(0,p.useRef)(null),[E,R]=(0,p.useState)([]);(0,d.y)(y,R),(0,p.useEffect)(()=>{let s=x.length,l=o.activity,r=h[s][l],t={w:960*r.cols,h:700*r.rows};Z({colsTemplate:"repeat(".concat(r.cols,", 1fr)"),rowsTemplate:"repeat(".concat(r.rows,", 1fr)"),cells:r,gridAspect:t,litter:s,activity:l,showExpandButton:o.enableExpandButton&&x.length>0&&o.activity===e.S.deliberation})},[x,o.activity,o.enableExpandButton]),(0,p.useEffect)(()=>{j&&j.activity!==e.S.deliberation&&m(!1)},[j]),(0,p.useEffect)(()=>{o.onResize()},[E,g,o.availableSpace]);let[C]=(0,t.u)({duration:200}),k="0.5rem",B=(0,i.Z)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.Z,{sx:{width:"100%",height:"100%",position:"relative"},children:j&&(0,r.jsx)(n.Z,{sx:{aspectRatio:"".concat(j.gridAspect.w,"/").concat(j.gridAspect.h),objectFit:"contain",maxHeight:null===(s=o.availableSpace)||void 0===s?void 0:s.h,maxWidth:null===(l=o.availableSpace)||void 0===l?void 0:l.w,mx:"auto",my:"auto"},children:(0,r.jsxs)(n.Z,{ref:C,sx:{width:"100%",height:"100%",display:"grid",gap:k,gridTemplateColumns:j.colsTemplate,gridTemplateRows:j.rowsTemplate},children:[(0,r.jsxs)(n.Z,{ref:y,sx:{position:g?"absolute":"relative",gridColumnStart:g?void 0:v[j.litter][j.activity].col,gridColumnEnd:g?void 0:v[j.litter][j.activity].col+v[j.litter][j.activity].span.cols,gridRowStart:g?void 0:v[j.litter][j.activity].row,gridRowEnd:g?void 0:v[j.litter][j.activity].row+v[j.litter][j.activity].span.rows,width:g?void 0:"100%",height:g?void 0:"100%",left:g?"2.5vh":void 0,top:g?"2.5vh":void 0,bottom:g?"2.5vh":void 0,right:g?"2.5vh":void 0,zIndex:g?10:void 0},children:[j.showExpandButton&&(0,r.jsx)(n.Z,{sx:{position:"absolute",top:"1rem",right:"1rem",zIndex:20},children:(0,r.jsx)(w.Z,{"aria-label":"expand presentation button",onClick:()=>m(!g),sx:{border:"2px solid",borderColor:B.palette.promptPanelBackground.main,background:B.palette.slideSectionBackground.main},children:g?(0,r.jsx)(a.Z,{}):(0,r.jsx)(c.Z,{})})}),(0,r.jsx)(n.Z,{sx:{width:"100%",height:"100%",borderRadius:2,border:g?"solid 2px white":void 0},className:"shadow",children:o.presentation})]},"presentation-cell"),o.activity===e.S.deliberation&&(0,r.jsx)(r.Fragment,{children:x.map((o,s)=>{let l=f[s];return(0,r.jsx)(n.Z,{sx:{gridColumnStart:l.col,gridColumnEnd:l.col+l.span.cols,gridRowStart:l.row,gridRowEnd:l.row+l.span.rows},children:(0,r.jsx)(S.ZP,{subscription:o})},"video-cell-".concat(o.deviceId))})}),o.activity!=e.S.deliberation&&(0,r.jsxs)(r.Fragment,{children:[x.slice(0,Math.min(2,j.litter)).map((o,s)=>(0,r.jsx)(n.Z,{sx:{gridColumn:h[j.litter][j.activity].cols,gridRow:s+1},children:(0,r.jsx)(S.ZP,{subscription:o})},"video-cell-".concat(o.deviceId))),j.litter>2&&(0,r.jsx)(n.Z,{sx:{gridColumn:j.cells.cols,gridRowStart:3,gridRowEnd:j.cells.rows+1,overflowY:"auto"},children:x.slice(2).map((o,s)=>(0,r.jsx)(n.Z,{sx:{width:"100%",aspectRatio:b,mb:k},children:(0,r.jsx)(S.ZP,{subscription:o})},"video-cell-".concat(o.deviceId)))})]})]})})})})}}}]);
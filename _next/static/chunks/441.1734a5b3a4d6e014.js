(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[441],{50441:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(57437),i=r(22960),l=r(2265),o=r(59589);r(91683),r(79055);var u=r(30089),s=r(4766),d=r(94547),c=r(83593),a=r(15785);function v(e){let t=e.role===d._b.Controller,r=(0,l.useRef)(null),v=(0,l.useRef)(null),{slideIndex:f,setSlideIndex:g,slideData:h,setSlideData:b}=(0,l.useContext)(s.X);(0,l.useEffect)(()=>{!r.current&&v.current&&(console.debug("⬆️ Presentation mount..."),r.current=new o.Z(v.current,{embedded:e.embedded,controls:t,keyboard:t,touch:t,overview:!1,help:t,hideInactiveCursor:!t,showNotes:!1,plugins:[]}),console.debug("initialising reveal..."),r.current.initialize({controlsTutorial:!1,slideNumber:t?"c/t":void 0,progress:!1,controlsBackArrows:"faded",controlsLayout:"edges",scrollActivationWidth:void 0}).then(()=>{console.debug("Reveal: initialised"),r.current.on("slidechanged",e=>{g(r.current.getState().indexh)}),void 0!==f&&r.current.slide(f),p()}).catch(e=>console.error(e)))},[]),(0,l.useEffect)(()=>{var e,t,n;console.debug("Presentation props.slideIndex change",f),(null===(e=r.current)||void 0===e?void 0:e.isReady())&&(null===(t=r.current)||void 0===t?void 0:t.getState().indexh)!==f&&void 0!==f&&(null===(n=r.current)||void 0===n||n.slide(f)),p()},[f,r]);let p=()=>{if(null===r.current||void 0===b)return;let e=!!r.current.getCurrentSlide();b(y(r.current.getCurrentSlide(),e?r.current.getSlideNotes():null))},y=(e,t)=>{if(!e)return a.I;let r=(0,u.kh)(e.getAttribute("qids")),n=e.getAttribute("secs"),i=null!==n?parseFloat(n):void 0,l=e.getAttribute("activity"),o=null!==l?(0,u.pC)(l):a.S.default,s=e.getAttribute("recording");return console.debug("Activity: ".concat(a.S[o],", Recording id: ").concat(s)),{notes:null!=t?t:"",qids:null!=r?r:[],secs:i,activity:o,recordingId:null!=s?s:void 0}};(0,l.useEffect)(()=>()=>{r.current&&r.current.isReady()&&(console.debug("⬇️ Presentation unmount..."),r.current.destroy(),r.current=null)},[]);let[R,S]=(0,l.useState)();(0,l.useEffect)(()=>(c.Z.on(c.M.Request_SlideRefresh,S),()=>{c.Z.off(c.M.Request_SlideRefresh,S)}),[]),(0,l.useEffect)(()=>{void 0!==R&&R.type===c.M.Request_SlideRefresh&&m()},[R]);let m=(0,l.useCallback)(()=>{setTimeout(()=>{var e,t;null===(e=r.current)||void 0===e||e.syncSlide(r.current.getCurrentSlide()),null===(t=r.current)||void 0===t||t.layout()},100)},[]),C=(0,i.Z)();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{ref:v,className:"reveal",style:{width:"100%",height:"100%",borderRadius:"0.5rem",border:e.showBorder?"solid 2px":void 0,borderColor:e.showBorder?C.palette.primary.main:void 0},children:(0,n.jsx)("div",{className:"slides",children:e.slides})})})}},91683:function(){},79055:function(){}}]);
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[423],{59676:function(o,e,s){var t=s(23963);e.Z=void 0;var l=t(s(19118)),r=s(57437);e.Z=(0,l.default)((0,r.jsx)("path",{d:"M9 9V3H7v2.59L3.91 2.5 2.5 3.91 5.59 7H3v2zm12 0V7h-2.59l3.09-3.09-1.41-1.41L17 5.59V3h-2v6zM3 15v2h2.59L2.5 20.09l1.41 1.41L7 18.41V21h2v-6zm12 0v6h2v-2.59l3.09 3.09 1.41-1.41L18.41 17H21v-2z"}),"ZoomInMap")},81386:function(o,e,s){var t=s(23963);e.Z=void 0;var l=t(s(19118)),r=s(57437);e.Z=(0,l.default)((0,r.jsx)("path",{d:"m15 3 2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z"}),"ZoomOutMap")},29921:function(o,e,s){s.d(e,{y:function(){return i}});var t=s(2265),l=s(38017);let r=()=>{};function i(o,e,s){let i=t.useRef(null);i.current=e,(0,l.Z)(()=>{if(!1===s||"undefined"==typeof ResizeObserver)return r;let e=o.current,t=new ResizeObserver(o=>{i.current(o)});return e&&t.observe(e),()=>{t.disconnect()}},[o,s])}},24423:function(o,e,s){s.d(e,{Z:function(){return v}});var t=s(57437),l=s(22960),r=s(31193),i=s(40468),n=s(60335),c=s(2265),a=s(29921),w=s(40772),d=s(15785),p=s(81386),u=s(59676);let h=[{col:3,row:1,span:{cols:1,rows:1}},{col:3,row:2,span:{cols:1,rows:1}},{col:3,row:3,span:{cols:1,rows:1}},{col:2,row:3,span:{cols:1,rows:1}},{col:1,row:3,span:{cols:1,rows:1}},{col:4,row:1,span:{cols:1,rows:1}},{col:4,row:2,span:{cols:1,rows:1}},{col:4,row:3,span:{cols:1,rows:1}},{col:4,row:4,span:{cols:1,rows:1}},{col:3,row:4,span:{cols:1,rows:1}},{col:2,row:4,span:{cols:1,rows:1}},{col:1,row:4,span:{cols:1,rows:1}},{col:5,row:1,span:{cols:1,rows:1}},{col:5,row:2,span:{cols:1,rows:1}},{col:5,row:3,span:{cols:1,rows:1}},{col:5,row:4,span:{cols:1,rows:1}}],f={0:{[d.S.default]:{cols:1,rows:1},[d.S.deliberation]:{cols:1,rows:1}},1:{[d.S.default]:{cols:3,rows:2},[d.S.deliberation]:{cols:3,rows:2}},2:{[d.S.default]:{cols:3,rows:2},[d.S.deliberation]:{cols:3,rows:2}},3:{[d.S.default]:{cols:6,rows:5},[d.S.deliberation]:{cols:3,rows:3}},4:{[d.S.default]:{cols:6,rows:5},[d.S.deliberation]:{cols:3,rows:3}},5:{[d.S.default]:{cols:6,rows:5},[d.S.deliberation]:{cols:3,rows:3}},6:{[d.S.default]:{cols:6,rows:5},[d.S.deliberation]:{cols:4,rows:3}},7:{[d.S.default]:{cols:6,rows:5},[d.S.deliberation]:{cols:4,rows:3}},8:{[d.S.default]:{cols:6,rows:5},[d.S.deliberation]:{cols:4,rows:3}},9:{[d.S.default]:{cols:6,rows:5},[d.S.deliberation]:{cols:4,rows:4}},10:{[d.S.default]:{cols:6,rows:5},[d.S.deliberation]:{cols:4,rows:4}},11:{[d.S.default]:{cols:6,rows:5},[d.S.deliberation]:{cols:4,rows:4}},12:{[d.S.default]:{cols:6,rows:5},[d.S.deliberation]:{cols:4,rows:4}},13:{[d.S.default]:{cols:6,rows:5},[d.S.deliberation]:{cols:5,rows:4}},14:{[d.S.default]:{cols:6,rows:5},[d.S.deliberation]:{cols:5,rows:4}},15:{[d.S.default]:{cols:6,rows:5},[d.S.deliberation]:{cols:5,rows:4}},16:{[d.S.default]:{cols:6,rows:5},[d.S.deliberation]:{cols:5,rows:4}}},S={0:{[d.S.default]:{col:1,row:1,span:{cols:1,rows:1}},[d.S.deliberation]:{col:1,row:1,span:{cols:1,rows:1}}},1:{[d.S.default]:{col:1,row:1,span:{cols:2,rows:2}},[d.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},2:{[d.S.default]:{col:1,row:1,span:{cols:2,rows:2}},[d.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},3:{[d.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[d.S.deliberation]:{col:1,row:1,span:{cols:2,rows:3}}},4:{[d.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[d.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},5:{[d.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[d.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},6:{[d.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[d.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},7:{[d.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[d.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},8:{[d.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[d.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},9:{[d.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[d.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},10:{[d.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[d.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},11:{[d.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[d.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},12:{[d.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[d.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},13:{[d.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[d.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},14:{[d.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[d.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},15:{[d.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[d.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}},16:{[d.S.default]:{col:1,row:1,span:{cols:5,rows:5}},[d.S.deliberation]:{col:1,row:1,span:{cols:2,rows:2}}}};function v(o){let e=(0,c.useRef)(null),[s,v]=(0,c.useState)([]),[b,x]=(0,c.useState)();(0,a.y)(e,v);let g=(0,c.useRef)(null),[m,y]=(0,c.useState)([]);(0,a.y)(g,y);let[j,Z]=(0,c.useState)(),[R,z]=(0,c.useState)(),[E,C]=(0,c.useState)(),[k,L]=(0,c.useState)(!1),M=o.presentation.enableExpandButton&&o.tiles.video.length>0&&o.presentation.activity===d.S.deliberation;(0,c.useEffect)(()=>{s&&0!==s.length&&x({w:s[0].contentRect.width,h:s[0].contentRect.height})},[s]),(0,c.useEffect)(()=>{o.presentation.onResize()},[m]),(0,c.useEffect)(()=>{if(!b)return;let{rows:e,cols:s}=f[o.tiles.video.length][o.presentation.activity],t={w:960*s,h:700*e},l=b.w/t.w*t.h,r=b.h/t.h*t.w;l<=b.h?Z({w:b.w,h:l}):Z({w:r,h:b.h})},[b,o.tiles.video.length,o.presentation.activity]),(0,c.useEffect)(()=>{if(!j)return;let{rows:e,cols:s}=f[o.tiles.video.length][o.presentation.activity];z({w:j.w/s,h:j.h/e})},[j]),(0,c.useEffect)(()=>{if(!R)return;let e=o.tiles.video.length,{rows:s,cols:t}=f[e][o.presentation.activity];C({cols:Array(t).fill("".concat(Math.round(R.w),"px")).join(" "),rows:Array(s).fill("".concat(Math.round(R.h),"px")).join(" "),cells:{cols:t,rows:s},litter:e,activity:o.presentation.activity})},[R]),(0,c.useEffect)(()=>{},[E]),(0,c.useEffect)(()=>{o.presentation.activity!==d.S.deliberation&&L(!1),o.presentation.onResize()},[o.presentation.activity]),(0,c.useEffect)(()=>{o.presentation.onResize()},[k]);let[F]=(0,w.u)({duration:200}),I=(0,l.Z)();return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(r.Z,{ref:e,sx:{width:"100%",height:"100%",display:"block",border:void 0,p:0,m:0},children:[!(j&&R&&E)&&(0,t.jsx)(r.Z,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)(i.Z,{})}),j&&R&&E&&(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(r.Z,{ref:F,sx:{display:"grid",width:j.w,height:j.h,gridTemplateColumns:E.cols,gridTemplateRows:E.rows,alignItems:"start",justifyItems:"start",border:void 0,m:"auto"},children:[(0,t.jsxs)(r.Z,{sx:{position:"relative",gridColumn:k?"".concat(S[E.litter][E.activity].col," / span ").concat(S[E.litter][E.activity].span.cols):void 0,gridRow:k?"".concat(S[E.litter][E.activity].row," / span ").concat(S[E.litter][E.activity].span.rows):void 0,width:k?.95*j.w:R.w*S[E.litter][E.activity].span.cols,height:k?.95*j.h:R.h*S[E.litter][E.activity].span.rows,left:k?.025*j.w:void 0,top:k?.025*j.h:void 0,border:void 0,p:.5,zIndex:k?10:void 0},children:[M&&(0,t.jsx)(r.Z,{sx:{position:"absolute",top:"1rem",right:"1rem",zIndex:10},children:(0,t.jsx)(n.Z,{"aria-label":"expand presentation button",onClick:()=>L(!k),sx:{border:"2px solid",borderColor:I.palette.promptPanelBackground.main,background:I.palette.slideSectionBackground.main},children:k?(0,t.jsx)(u.Z,{}):(0,t.jsx)(p.Z,{})})}),(0,t.jsx)(r.Z,{sx:{width:"100%",height:"100%",borderRadius:2,border:k?"solid 2px white":void 0},children:o.tiles.presentation})]},"presentation-cell"),o.presentation.activity!=d.S.deliberation&&(0,t.jsxs)(t.Fragment,{children:[o.tiles.video.slice(0,Math.min(2,E.litter)).map((o,e)=>(0,t.jsx)(r.Z,{sx:{p:.5,gridColumn:f[E.litter][E.activity].cols,gridRow:e+1,width:1*R.w,height:1*R.h,border:void 0},children:o},"video-cell-".concat(e))),f[E.litter][E.activity].rows>2&&(0,t.jsx)(r.Z,{sx:{gridColumn:f[E.litter][o.presentation.activity].cols,gridRow:"3 / span ".concat(f[E.litter][E.activity].rows-2),width:1*R.w,height:R.h*(f[E.litter][E.activity].rows-2),border:void 0,overflowY:"auto"},children:E.litter>=3&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(r.Z,{sx:{display:"flex",flexDirection:"column"},children:o.tiles.video.slice(2).map((o,e)=>(0,t.jsx)(r.Z,{sx:{p:.5,width:1*R.w,height:1*R.h,border:void 0},children:o},"video-cell-".concat(e)))})})})]}),o.presentation.activity==d.S.deliberation&&(0,t.jsx)(t.Fragment,{children:E.litter>=1&&(0,t.jsx)(t.Fragment,{children:o.tiles.video.slice(0,Math.min(h.length,E.litter)).map((o,e)=>(0,t.jsx)(r.Z,{sx:{p:.5,gridColumn:"".concat(h[e].col," / span ").concat(h[e].span.cols),gridRow:"".concat(h[e].row," / span ").concat(h[e].span.rows),width:R.w*h[e].span.rows,height:R.h*h[e].span.cols,border:void 0},children:o},"video-cell-".concat(e)))})})]})})]})})}}}]);